# ============================================
# EPR SaaS - Environment Variables
# Copy to .env and fill in your values
# ============================================

# ============================================
# APPLICATION
# ============================================
NODE_ENV=development
APP_NAME=EPR Legal SaaS
APP_URL=http://localhost:8000

# ============================================
# DATABASES
# ============================================

# PostgreSQL
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/epr_saas
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=epr_saas

# Redis
REDIS_URL=redis://localhost:6379

# Weaviate
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=  # Leave empty for local dev

# ============================================
# AI / LLM
# ============================================

# OpenAI (chỉ dùng khi cần, local dev dùng Ollama)
OPENAI_API_KEY=sk-proj-xxx  # Optional - get free $5 credit at https://platform.openai.com

# Anthropic Claude (optional)
ANTHROPIC_API_KEY=  # Optional - get free $5 credit

# Google Gemini (optional - has generous free tier)
GOOGLE_API_KEY=  # Optional - https://makersuite.google.com/app/apikey

# Ollama (local LLM)
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3  # llama3, mistral, phi3, gemma

# LLM Selection
USE_LOCAL_LLM=true  # true = Ollama (free), false = OpenAI (paid)

# Embedding Model
EMBEDDING_MODEL=nomic-embed-text  # Ollama embedding (free)
# EMBEDDING_MODEL=text-embedding-3-small  # OpenAI (paid)

# ============================================
# SECURITY
# ============================================

# JWT
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_ALGORITHM=HS256
JWT_EXPIRATION=24h  # 24 hours
JWT_REFRESH_EXPIRATION=7d  # 7 days

# Encryption
ENCRYPTION_KEY=your-encryption-key-32-characters-long!

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_ALLOW_CREDENTIALS=true

# ============================================
# RATE LIMITING
# ============================================

# Free tier
RATE_LIMIT_FREE=10  # 10 queries per day
# Basic tier
RATE_LIMIT_BASIC=100  # 100 queries per day
# Pro tier
RATE_LIMIT_PRO=1000  # 1000 queries per day
# Business tier
RATE_LIMIT_BUSINESS=999999  # Unlimited

# ============================================
# STORAGE (MinIO - S3 Compatible)
# ============================================

S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET_NAME=epr-documents
S3_REGION=us-east-1

# ============================================
# EMAIL (Optional - for later)
# ============================================

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@epr-legal.com

# Resend (alternative - free 3000 emails/month)
RESEND_API_KEY=  # https://resend.com

# ============================================
# MONITORING
# ============================================

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Jaeger (tracing)
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Sentry (error tracking - optional)
SENTRY_DSN=  # https://sentry.io (free tier available)

# ============================================
# LOGGING
# ============================================

LOG_LEVEL=info  # debug, info, warn, error
LOG_FORMAT=json  # json, text

# ============================================
# PAYMENTS (for future implementation)
# ============================================

# Stripe
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_PUBLIC_KEY=pk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# VNPay (Vietnam)
VNPAY_TMN_CODE=
VNPAY_HASH_SECRET=
VNPAY_URL=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html

# ============================================
# FEATURE FLAGS
# ============================================

ENABLE_SIGNUP=true
ENABLE_OAUTH=false  # Google/GitHub OAuth
ENABLE_2FA=false  # Two-factor authentication
ENABLE_ANALYTICS=true
ENABLE_ADMIN_DASHBOARD=true

# ============================================
# DEVELOPMENT
# ============================================

# Debug
DEBUG=true
VERBOSE_LOGGING=true

# Hot reload
HOT_RELOAD=true

# Seed data on start
AUTO_SEED_DATABASE=true

# ============================================
# PRODUCTION (for deployment)
# ============================================

# Domain
# PRODUCTION_DOMAIN=https://epr-legal.com

# Database (managed PostgreSQL)
# DATABASE_URL=postgresql://user:pass@host:5432/db?sslmode=require

# Redis (managed)
# REDIS_URL=redis://user:pass@host:6379

# Weaviate Cloud
# WEAVIATE_URL=https://xxx.weaviate.network
# WEAVIATE_API_KEY=xxx

# SSL
# SSL_ENABLED=true
# SSL_CERT_PATH=/etc/ssl/cert.pem
# SSL_KEY_PATH=/etc/ssl/key.pem
